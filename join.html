<div id="container">
    <section id="join_back">
        <div class="join_page row">
            <div class="join_box">
                <h1>회원가입</h1>
            </div>
            <p class="essential">필수 입력</p>
            <form action="#" method="post" class="join_form">
                <fieldset>
                    <legend>회원가입</legend>
                </fieldset>
                <div class="join_content">
                    <ul>
                        <li>
                            <label for="name" class="essential">성명</label>
                            <div class="input_lbl">
                                <input type="text" id="name" placeholder="성명" class="w300">
                            </div>
                        </li>
                        <li>
                            <label for="gender" class="essential" id="gender">성별</label>
                            <div class="input_lbl">
                                <input type="radio" name="gender" id="male" value="male">
                                <label for="male" class="checkbox_lbl gender_lbl">남성</label>
                                <input type="radio" name="gender" id="female" value="female">
                                <label for="female" class="checkbox_lbl gender_lbl">여성</label>
                                <!-- input에 type=radio 속성은 꼭 name을 줘야한다. -->
                            </div>
                        </li>
                        <!-- 주민번호는 개인정보 보호법에 걸림 -->
                        <!-- <li>
                            <label for="birth1" class="essential">주민번호</label>
                            <div class="input_lbl">
                                <input type="text" id="birth1">
                                <span>-</span>
                                <input type="text" id="birth2">
                            </div>
                        </li> -->
                        <li>
                            <label for="id" class="essential">아이디</label>
                            <div class="input_lbl id_input">
                                <input type="text" id="id" placeholder="@kkami.com" class="w300">
                            </div>
                        </li>
                        <li>
                            <label for="pw" class="essential">패스워드</label>
                            <div class="input_lbl">
                                <input type="password" id="pw" placeholder="비밀번호" class="w300">
                            </div>
                        </li>
                        <li>
                            <label for="pw_check" class="essential">패스워드 확인</label>
                            <div class="input_lbl">
                                <input type="password" id="pw_check" placeholder="비밀번호 확인" class="w300">
                            </div>
                        </li>
                        <li>
                            <label for="home_tel1">집</label>
                            <div class="input_lbl">
                                <select id="tel_choice">
                                    <option value="nochoice">선택</option>
                                    <option value="02">02</option>
                                    <option value="031">031</option>
                                    <option value="032">032</option>
                                    <option value="033">033</option>
                                    <option value="041">041</option>
                                    <option value="042">042</option>
                                    <option value="043">043</option>
                                    <option value="044">044</option>
                                    <option value="051">051</option>
                                    <option value="052">052</option>
                                    <option value="053">053</option>
                                    <option value="054">054</option>
                                    <option value="055">055</option>
                                    <option value="061">061</option>
                                    <option value="062">062</option>
                                    <option value="063">063</option>
                                    <option value="064">064</option>
                                </select>
                                <input type="tel" id="home_tel1">
                                <span> - </span>
                                <input type="tel" id="home_tel2">
                            </div>
                        </li>
                        <li>
                            <label for="phone" class="essential">휴대폰</label>
                            <div class="input_lbl">
                                <input type="tel" id="phone" placeholder='휴대폰번호 "-" 없이 숫자만 입력해주세요' class="w300">
                            </div>
                        </li>
                        <li>
                            <label for="mail">이메일</label>
                            <div class="input_lbl">
                                <input type="text" id="mail">
                                <span>@</span>
                                <input type="text" id="domain" disabled>
                                <select id="domain_choice">
                                    <option value="nochoice">선택</option>
                                    <option value="daum.net">다음</option>
                                    <option value="gmail.com">구글</option>
                                    <option value="naver.com">네이버</option>
                                    <option value="kkami.com">까미</option>
                                    <option value="self">직접입력</option>
                                </select>
                            </div>
                        </li>
                        <li>
                            <label for="address1">주소</label>
                            <div class="input_lbl add_text">
                                <input type="text" id="address1" class="w300"> <button type="button">우편번호</button>
                                <input type="text" id="address2" class="w70p"><span> (도로명 주소)</span>
                                <input type="text" id="address3" class="w70p"><span> (지번 주소)</span>
                                <input type="text" id="address4" class="w70p"><span> (나머지 주소)</span>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="sm_rs_button">
                    <button type="submit">전송</button>
                    <button type="reset">취소</button>
                </div>
            </form>
        </div>
    </section>
</div>

<script>

(function($){


    $('form').submit(function(){

        // 이름 유효성 체크 : 이름은 한글만 표시
        var name = $('#name').val()
        var namech = /^[가-힣]+$/
        if (!(namech.test(name))) {
            alert('한글이 아닙니다.')
            $('#name').focus()
            $('#name').select()
            return false
        }
        

        // 성별 유효성 체크 : 체크되어있는지 확인
        var gender = $('input[name=gender]:checked').length
        if (gender === 0) {
            $('#gender').text('성별을 선택해 주세요')
            $('#gender').css({
                color: 'red'
            })
            return false
            // 오류가 났을 때 문구만 표시하고 진행이 되버리기 때문에 return false를 넣어야한다.
        } else {
            $('#gender').text('성별')
            $('#gender').css({
                color: 'black'
            })
            // 정상적으로 작동이 됐을 때 전송버튼을 누르면 진행이 되어야 하기 때문에 return false를 넣지 않는다.
        }


        // 비밀번호 유효성 체크 : 비밀번호 첫글자는 영문 대소문자, 특수문자, 숫자 포함 10~12글자
        var pass1 = $('#pw').val()
        var pass2 = $('#pw_check').val()
        var check = /^(?=[a-zA-Z])(?=.*[^a-zA-Z0-9])(?=.*[0-9]).*$/
        // ?= 는 처음부터 조사하는 거임 첫글자는 영문 대소문자
        // . 은 임의의 모든 문자(숫자, 특수문자, 대소문자)
        // * 은 0번 이상 나올 수 있음
        // + 는 1번 이상 나올 수 있음, 1번 이상 반복되어야 함
        // [] 안에 ^ 가 나오면 부정을 의미한다 ! 랑 비슷
        if (pass1.length >= 10 && pass1.length <= 12) {
            if (!check.test(pass1)) {
                alert('패스워드는 첫 글자는 영문 대소문자만 혀용하며, 반드시 숫자와 특수문자 1개 이상 조합해주세요')
                $('#pw').css({
                    border: '1px solid red'
                })
                $('#pw').focus()
                $('#pw').select()
                return false
            }
        } else {
            alert('패스워드 글자 수는 10글자~12글자 범위입니다.')
            $('#pw').css({
                border: '1px solid red'
            })
            $('#pw').focus()
            $('#pw').select()
            return false
        }

        // 비밀번호와 비밀번호 확인 일치여부 점검
        if (pass2.length === 0) {
            alert('패스워드 확인을 입력하지 않았습니다.')
            $('#pw_check').css({
                border: '1px solid red'
            })
            $('#pw_check').focus()
            $('#pw_check').select()
            return false
        } else if (pass2 !== pass1) {
            alert('패스워드가 일치하지 않습니다.')
            $('#pw_check').css({
                border: '1px solid red'
            })
            $('#pw_check').focus()
            $('#pw_check').select()
            return false
        }
        
        
        // 주민번호 유효성 체크 : 앞에 6숫자, 뒤에 7숫자
        // 주민번호는 개인정보 보호법에 걸려서 빼야한다. /^\d{7}$/, /^\d{6}$/ 이걸로 하려고 했음 
  
             
        // 아이디 유효성 체크 : 글자수 2~6, 특수문자 제외
        var id = $('#id').val()
        if (id.length >= 2 && id.length <= 10) {
            for (var i=0; i < id.length; i++) {
                var ch = id.charAt(i);
                if (!(ch>='0' && ch<='9') && !(ch>='a' && ch<='z') && !(ch>='A' && ch<='Z')) {
                    alert('아이디는 영문 대소문자, 숫자만 가능합니다')
                    $('#id').css({
                        border:'1px solid red'
                    })
                    $('#id').focus()
                    $('#id').select()
                    return false
                }
            }
        } else {
            alert('아이디는 2~10글자 범위입니다.')
            $('#id').css({
                border:'1px solid red'
            })
            $('#id').focus()
            $('#id').select()
            return false
        }



        // 집 전화번호 유효성 체크 : 첫번째는 3~4개 숫자, 두번째는 4개 숫자
        ^ : 시작 표시
        $ : 끝 표시
        + : 한번 이상 포함
        var tel1 = $('#home_tel1').val()
        var tel2 = $('#home_tel2').val()
        if (!/^\d{3,4}$/.test(tel1)) {
            alert('전화번호 형식이 맞지 않습니다. 3~4개의 숫자를 입력해주세요.')
            $('#home_tel1').focus()
            $('#home_tel1').select()
            return false
        } else if (!/^\d{4}$/.test(tel2)) {
            alert('전화번호 형식이 맞지 않습니다. 4개의 숫자를 입력해주세요.')
            $('#home_tel2').focus()
            $('#home_tel2').select()
            return false
        }



        // 핸드폰 번호 유효성 체크 : 숫자 10~12개
        var phone = $('#phone').val()
        if (!/^01\d{8,9}$/.test(phone)) {
            alert('휴대폰은 01로 시작해서 숫자 10~11개 입니다.')
            $('#phone').focus()
            $('#phone').select()
            return false
        }


        // 이메일 유효성 체크 : 첫번째 특수문자 제외
        var mail = $('#mail').val()
        if (!/^[0-9a-zA-Z]{2}$/.test(mail)) {
            alert('이메일은 영문 대소문자와 숫자만 2글자 이상 사용하십시오.')
            $('#mail').focus()
            $('#mail').select()
            return false
        }

        // 이메일 도메인 유효성 체크 : 영문 대소문자+숫자 그 뒤에 . 그 뒤에 영문 소문자만 허용
        var domain = $('#domain').val()
        if (domain.length === 0) {
            alert('도메인을 선택해 주세요')
            $('#domain_choice').focus()
            return false
        } else {
            if (!/^[a-zA-Z0-9]+[\.][a-z]+$/.test(domain)) {
                alert('이메일 형식에 맞지 않습니다.')
                $('#domain_choice').focus()
                return false
            }
        }

        


















        return false    // 유효성 검사 끝나고 지우기
    })

    // 이메일 도메인을 선택했을때 domain_choice을 채워넣기
    $('#domain_choice').on('change', function(){
        $('#domain_choice option:selected').each(function(){
            if ($(this).val === 'nochoice') {
                $('#domain').val('')
                $('#domain').attr('disabled', true)
            } else if ($(this).val() === 'self') {
                $('#domain').val('')
                $('#domain').attr('disabled', false)
            } else {
                $('#domain').val( $(this).val() )
                $('#domain').attr('disabled', true)
            }
        })
    })





}) (jQuery)







</script>